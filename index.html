<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uPaTeL - Utsav Patel | Full Stack Developer</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load THREE.js (still used for background effect) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        :root {
            --primary-glow: 0 0 15px rgba(59, 130, 246, 0.7);
            --primary-glow-color: #3b82f6; /* Blue for primary glow */
            --skill-color: #3b82f6; 
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            color: #ffffff;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Scroll Progress Bar */
        #scroll-progress {
            position: fixed;
            top: 0; left: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #9333ea);
            width: 0%;
            z-index: 60;
            transition: width 0.1s linear;
        }

        /* -------------------------------------- */
        /* NEW: Continuous Shining/Pulsing Title Animation */
        @keyframes continuous-pulse {
            0%, 100% {
                transform: scale(1.0) translateY(0);
                text-shadow: 0 0 5px var(--primary-glow-color), 0 0 10px rgba(59, 130, 246, 0.2);
            }
            50% {
                transform: scale(1.02) translateY(-2px); /* Vertical pulse and slight scale */
                text-shadow: 0 0 15px var(--primary-glow-color), 0 0 25px rgba(147, 51, 234, 0.5); /* Stronger glow */
            }
        }

        .shining-title {
            animation: continuous-pulse 4s infinite alternate ease-in-out;
        }
        /* -------------------------------------- */


        /* 2D Skill Badge Styles */
        .skill-badge {
            border: 1px solid rgba(255, 255, 255, 0.1);
            /* FASTER HOVER: Reduced duration from 0.3s to 0.15s */
            transition: transform 0.15s ease-out, box-shadow 0.15s ease-out, border-color 0.15s ease-out;
            position: relative;
        }

        .skill-badge:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--skill-color), 0 0 30px var(--skill-color);
            border-color: var(--skill-color);
            z-index: 20;
        }

        /* Full-screen canvas for subtle background */
        #three-js-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.3; /* Subtle starfield background */
        }

        .content-overlay {
            position: relative;
            z-index: 10;
        }

        .nav-link {
            transition: color 0.3s, transform 0.3s;
        }
        .nav-link:hover {
            color: #3b82f6;
            transform: translateY(-2px);
            text-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
        }

        /* 3D Card Flip */
        .project-card-container { perspective: 1000px; }
        .project-card-inner {
            transition: transform 0.6s, box-shadow 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
        }
        .project-card-container:hover .project-card-inner {
            transform: rotateY(180deg);
            box-shadow: var(--primary-glow);
        }
        .card-face {
            position: absolute;
            width: 100%; height: 100%;
            backface-visibility: hidden;
            border-radius: 1rem;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .card-front {
            background-color: rgba(22, 27, 34, 0.7);
            border: 1px solid rgba(59, 130, 246, 0.5);
        }
        .card-back {
            background-color: rgba(22, 27, 34, 0.9);
            transform: rotateY(180deg);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Hero text animation */
        .hero-text span {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        /* Scroll Animations */
        .animate-scroll {
            opacity: 0;
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform, opacity;
        }
        .from-right { transform: translateX(10%); }
        .from-left { transform: translateX(-10%); }
        .from-bottom { transform: translateY(50px); }
        .animate-scroll.animate-visible {
            opacity: 1;
            transform: translate(0, 0);
        }

        /* 2D Tilt Card */
        .tilt-card-2d {
            transition: transform 0.15s ease-out, box-shadow 0.5s, border 0.5s;
            will-change: transform;
            transform-style: preserve-3d;
        }
        
        /* Style for typing paragraphs (initially empty) */
        #about-text-content p {
            min-height: 24px; /* Ensure space before typing starts */
        }
    </style>
</head>
<body class="selection:bg-blue-600 selection:text-white">

    <!-- Scroll Progress Bar -->
    <div id="scroll-progress"></div>

    <!-- Subtle 3D Background Canvas (stars and ambient shapes) -->
    <canvas id="three-js-canvas"></canvas>
    <!-- Tooltip is not needed anymore -->

    <!-- Content Overlay -->
    <main class="content-overlay">

        <!-- Navbar -->
        <header id="header" class="fixed top-0 left-0 w-full p-4 md:p-6 transition-all duration-300 bg-gray-900/50 backdrop-blur-sm z-50">
            <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
                <a href="#home" class="text-3xl font-extrabold text-blue-500 tracking-wider nav-link mb-4 md:mb-0">uPaTeL</a>
                <nav class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-8 text-lg font-medium">
                    <a href="#home" class="nav-link">Home</a>
                    <a href="#about" class="nav-link">About</a>
                    <a href="#tech-arsenal" class="nav-link">Tech Arsenal</a>
                    <a href="#projects" class="nav-link">Projects</a>
                    <a href="#contact" class="nav-link">Contact</a>
                </nav>
            </div>
        </header>

        <!-- Hero Section -->
        <section id="home" class="min-h-screen flex items-center justify-center text-center p-8 pt-20">
            <div class="max-w-4xl space-y-6">
                <h1 class="text-5xl md:text-7xl font-extrabold leading-tight tracking-tight">
                    <div class="hero-text text-gray-300">
                        <span>H</span><span>i</span><span>,</span> <span>I</span><span>'m</span>
                    </div>
                    <div class="hero-text text-blue-400 mt-2">
                        <span>U</span><span>t</span><span>s</span><span>a</span><span>v</span> <span>P</span><span>a</span><span>t</span><span>e</span><span>l</span>
                    </div>
                </h1>
                <p class="text-xl md:text-3xl text-gray-400 font-light tracking-wide hero-text">
                    <span>F</span><span>u</span><span>l</span><span>l</span> <span>S</span><span>t</span><span>a</span><span>c</span><span>k</span> <span>D</span><span>e</span><span>v</span><span>e</span><span>l</span><span>o</span><span>p</span><span>e</span><span>r</span>
                    <span>.</span><span>.</span><span>.</span>
                </p>
                <a href="#projects" class="inline-block px-8 py-3 mt-8 text-lg font-semibold rounded-full bg-blue-600 hover:bg-blue-700 transition duration-300 shadow-lg shadow-blue-500/50">
                    View My Work
                </a>
            </div>
        </section>

        <!-- About Me -->
        <section id="about" class="py-20 px-8 bg-gray-900/30 backdrop-blur-sm">
            <!-- Container triggers fade-in/L-to-R move -->
            <div class="container mx-auto max-w-4xl animate-scroll from-left" id="about-section-container">
                <h2 class="text-4xl font-bold mb-6 text-blue-400 border-b-2 border-blue-600 pb-2 shining-title">About Me</h2>
                
                <!-- Text container for typing effect -->
                <div id="about-text-content">
                    <!-- Note: The content is stored in data-full-text attribute -->
                    <p class="typing-text text-lg text-gray-300 leading-relaxed" data-full-text="I am a passionate Full Stack Developer with expertise in building scalable and performant web applications. My journey involves navigating the full development lifecycle, from robust backend services to engaging and responsive user interfaces. I thrive on solving complex problems and leveraging modern technologies—including the MERN stack—to deliver exceptional digital experiences. My goal is to bridge the gap between innovative design and technical feasibility."></p>
                    
                    <p class="typing-text text-lg text-gray-300 leading-relaxed mt-4" data-full-text="I believe in continuous learning and currently focus on incorporating emerging technologies to create immersive web experiences that push the boundaries of traditional web design."></p>
                </div>
            </div>
        </section>

        <!-- Tech Arsenal - NOW USING 2D BADGES -->
        <section id="tech-arsenal" class="py-20 px-8 min-h-screen flex flex-col justify-center bg-gray-900/30 backdrop-blur-sm">
            <div class="container mx-auto">
                <h2 class="text-4xl font-bold mb-12 text-blue-400 border-b-2 border-blue-600 pb-2 text-center animate-scroll from-right shining-title">
                    Tech Arsenal
                </h2>
                
                <div id="skills-grid" class="flex flex-wrap justify-center gap-5 md:gap-7 max-w-5xl mx-auto">
                    <!-- 2D Badges injected here by JS -->
                </div>
            </div>
        </section>

        <!-- Projects -->
        <section id="projects" class="py-20 px-8 bg-gray-900/30 backdrop-blur-sm">
            <div class="container mx-auto">
                <h2 class="text-4xl font-bold mb-12 text-blue-400 border-b-2 border-blue-600 pb-2 text-center animate-scroll from-left shining-title">
                    Featured Projects
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Project 1: RTO Exam App -->
                    <div class="project-card-container h-80 animate-scroll from-left">
                        <div class="project-card-inner h-full">
                            <div class="card-face card-front">
                                <h3 class="text-3xl font-bold text-blue-300 mb-4">RTO Exam and Practice App</h3>
                                <p class="text-lg text-gray-400 text-center">Utilized the MERN Stack to create a comprehensive platform for RTO exam preparation and practice tests.</p>
                            </div>
                            <div class="card-face card-back">
                                <p class="text-xl font-semibold text-gray-300 mb-6">View Code on GitHub</p>
                                <a href="https://github.com/patelutsav13/RTO-Exam-And-Practise-App-Frontend-" target="_blank" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-full transition duration-300 text-white font-semibold">View Code</a>
                            </div>
                        </div>
                    </div>
                    <!-- Project 2: Real-Estate App -->
                    <div class="project-card-container h-80 animate-scroll from-left">
                        <div class="project-card-inner h-full">
                            <div class="card-face card-front">
                                <h3 class="text-3xl font-bold text-blue-300 mb-4">Real-Estate House Price Predictor</h3>
                                <p class="text-lg text-gray-400 text-center">A full-stack application for predicting house prices using machine learning models integrated with a web interface.</p>
                            </div>
                            <div class="card-face card-back">
                                <p class="text-xl font-semibold text-gray-300 mb-6">View Code on GitHub</p>
                                <a href="https://github.com/patelutsav13/Real-Estate-House-Price-Predictor" target="_blank" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-full transition duration-300 text-white font-semibold">View Code</a>
                            </div>
                        </div>
                    </div>
                    <!-- Project 3: Farmer World App -->
                    <div class="project-card-container h-80 animate-scroll from-left">
                        <div class="project-card-inner h-full">
                            <div class="card-face card-front">
                                <h3 class="text-3xl font-bold text-blue-300 mb-4">Farmer World Website (Frontend)</h3>
                                <p class="text-lg text-gray-400 text-center">Frontend development for a dynamic e-commerce platform dedicated to agricultural products.</p>
                            </div>
                            <div class="card-face card-back">
                                <p class="text-xl font-semibold text-gray-300 mb-6">View Code on GitHub</p>
                                <a href="https://github.com/patelutsav13/Farmer-World-Website-Frontend-" target="_blank" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-full transition duration-300 text-white font-semibold">View Code</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact -->
        <section id="contact" class="py-20 px-8 bg-gray-900/30 backdrop-blur-sm">
            <div class="container mx-auto max-w-2xl">
                <h2 class="text-4xl font-bold mb-12 text-blue-400 border-b-2 border-blue-600 pb-2 text-center animate-scroll from-bottom shining-title">Let's Connect</h2>
                <div id="contact-card" class="tilt-card-2d bg-gray-800/80 p-8 rounded-2xl shadow-xl border border-gray-700 hover:border-blue-500 animate-scroll from-bottom">
                    <form onsubmit="event.preventDefault(); showMessage('Message Sent! Utsav will get back to you soon.');" class="space-y-6">
                        <h3 class="text-2xl font-semibold mb-4 text-center text-white">Send Me a Message</h3>
                        <div><input type="text" required placeholder="Name" class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:ring-blue-500 focus:border-blue-500 text-white"></div>
                        <div><input type="email" required placeholder="Email" class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:ring-blue-500 focus:border-blue-500 text-white"></div>
                        <div><textarea required rows="4" placeholder="Message" class="w-full p-3 rounded-lg bg-gray-900 border border-gray-700 focus:ring-blue-500 focus:border-blue-500 text-white"></textarea></div>
                        <div class="text-center">
                            <button type="submit" class="px-8 py-3 text-lg font-semibold rounded-full bg-blue-600 hover:bg-blue-700 transition duration-300 shadow-lg shadow-blue-500/50">
                                Send Message
                            </button>
                        </div>
                    </form>
                    <div class="mt-10 pt-6 border-t border-gray-700 text-center">
                        <h3 class="text-xl font-semibold mb-4">Or Find Me Here</h3>
                        <div class="flex justify-center space-x-6">
                            <a href="https://www.linkedin.com/in/utsav-patel-239635342" target="_blank" class="p-4 rounded-full bg-blue-700 hover:bg-blue-800 shadow-lg hover:shadow-[0_0_15px_#3b82f6]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4.14-3.111-4.14 0v5.604h-3v-11h3v1.765c1.396-2.586 7.14-2.736 7.14 2.115v7.12z"/></svg></a>
                            <a href="https://github.com/patelutsav13" target="_blank" class="p-4 rounded-full bg-gray-700 hover:bg-gray-800 shadow-lg hover:shadow-[0_0_15px_#ffffff]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.809 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.082-.731.08-.716.08-.716 1.205.084 1.839 1.237 1.839 1.237 1.07 1.833 2.809 1.306 3.493.996.108-.77.42-1.306.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.465-2.381 1.236-3.221-.124-.303-.535-1.524.118-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.652.242 2.873.118 3.176.772.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.922.43.37.823 1.101.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.801 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg></a>
                            <a href="mailto:patelutsav312@gmail.com" class="p-4 rounded-full bg-red-600 hover:bg-red-700 shadow-lg hover:shadow-[0_0_15px_#ef4444]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M0 3v18h24v-18h-24zm21.518 0l-9.518 7.713-9.518-7.713h19.036zm-19.518 15.515v-12.515l10 8.106 10-8.106v12.515h-20z"/></svg></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Success Modal -->
    <div id="message-modal" class="fixed inset-0 bg-gray-900/70 hidden items-center justify-center z-50 transition-opacity duration-300 opacity-0" onclick="this.classList.add('hidden','opacity-0')">
        <div class="bg-gray-800 p-6 rounded-xl shadow-2xl max-w-sm w-full border border-blue-500" onclick="event.stopPropagation();">
            <h4 class="text-xl font-bold mb-3 text-blue-400">Success!</h4>
            <p id="modal-text" class="text-gray-300"></p>
            <button onclick="document.getElementById('message-modal').classList.add('hidden','opacity-0')" class="mt-4 px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 text-white">Close</button>
        </div>
    </div>

    <script>
        // Modal
        function showMessage(text) {
            const modal = document.getElementById('message-modal');
            document.getElementById('modal-text').textContent = text;
            modal.classList.remove('hidden');
            void modal.offsetWidth;
            modal.classList.remove('opacity-0');
        }

        // Scroll Progress
        function updateProgressBar() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById("scroll-progress").style.width = scrolled + "%";
        }
        window.addEventListener('scroll', updateProgressBar);

        // Skill Data
        const skillData = [
            { name: "HTML5", color: "#e34f26", textColor: "#ffffff" },
            { name: "CSS3", color: "#1572b6", textColor: "#ffffff" },
            { name: "JavaScript", color: "#f7df1e", textColor: "#000000" },
            { name: "TypeScript", color: "#3178c6", textColor: "#ffffff" },
            { name: "ReactJS", color: "#61dafb", textColor: "#000000" },
            { name: "Next.js", color: "#000000", textColor: "#ffffff", border: "#ffffff" },
            { name: "Tailwind CSS", color: "#06b6d4", textColor: "#ffffff" },
            { name: "Framer Motion", color: "#9333ea", textColor: "#ffffff" },
            { name: "Shadcn/ui", color: "#2d3748", textColor: "#ffffff" },
            { name: "Node.JS", color: "#339933", textColor: "#ffffff" },
            { name: "ExpressJS", color: "#68a063", textColor: "#000000" },
            { name: "Python", color: "#306998", textColor: "#ffffff" },
            { name: "Flask", color: "#333333", textColor: "#ffffff" },
            { name: "FastAPI", color: "#009688", textColor: "#ffffff" },
            { name: "MongoDB", color: "#47a248", textColor: "#ffffff" },
            { name: "MySQL", color: "#00758f", textColor: "#ffffff" },
            { name: "PostgreSQL", color: "#336791", textColor: "#ffffff" },
            { name: "Git", color: "#f05032", textColor: "#ffffff" },
            { name: "GitHub", color: "#181717", textColor: "#ffffff" },
            { name: "Vercel", color: "#000000", textColor: "#ffffff", border: "#ffffff" },
            { name: "Render", color: "#6aa5f2", textColor: "#ffffff" }
        ];

        // Render 2D Skill Badges
        function renderSkillBadges() {
            const grid = document.getElementById('skills-grid');
            if (!grid) return;
            const animClasses = ['from-bottom', 'from-left', 'from-right'];
            
            skillData.forEach((skill, i) => {
                const badge = document.createElement('div');
                badge.className = `skill-badge animate-scroll ${animClasses[i % 3]} px-6 py-3 text-base sm:text-lg font-semibold rounded-full shadow-lg cursor-default`;
                badge.style.cssText = `
                    --skill-color: ${skill.color};
                    background-color: ${skill.color};
                    color: ${skill.textColor};
                    ${skill.border ? `border: 2px solid ${skill.border};` : ''}
                `;
                badge.textContent = skill.name;
                badge.style.transitionDelay = `${i * 0.05}s`;
                grid.appendChild(badge);
            });
            setupScrollAnimations();
        }
        
        // Typing animation logic
        function typeText(element, fullText, speed, callback) {
            let charIndex = 0;
            element.textContent = ''; 
            
            function type() {
                if (charIndex < fullText.length) {
                    element.textContent += fullText.charAt(charIndex);
                    charIndex++;
                    setTimeout(type, speed);
                } else if (callback) {
                    callback();
                }
            }
            type();
        }
        
        let aboutTextTyped = false;

        // Scroll Animations (IntersectionObserver)
        function setupScrollAnimations() {
            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };

            // Observer for the About Me section (handles fade-in THEN typing)
            const typingObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && entry.target.id === 'about-section-container' && !aboutTextTyped) {
                        typingObserver.unobserve(entry.target); // Trigger once
                        
                        // Wait for the CSS L-to-R fade-in animation to complete (1.2s + buffer)
                        setTimeout(() => {
                            const paragraphs = document.querySelectorAll('#about-text-content .typing-text');
                            let currentParagraphIndex = 0;
                            
                            function startTypingNext() {
                                if (currentParagraphIndex < paragraphs.length) {
                                    const p = paragraphs[currentParagraphIndex];
                                    const text = p.getAttribute('data-full-text');
                                    typeText(p, text, 20, () => { // 20ms speed for typing effect
                                        currentParagraphIndex++;
                                        startTypingNext();
                                    });
                                } else {
                                    aboutTextTyped = true; // Mark as done
                                }
                            }
                            startTypingNext();
                        }, 1250); 
                    }
                });
            }, observerOptions);


            // General observer for all other elements (titles, badges, cards)
            const generalObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-visible');
                    }
                });
            }, observerOptions);

            // Observe general scroll animations
            document.querySelectorAll('.animate-scroll').forEach(el => {
                generalObserver.observe(el);
            });

            // Observe About section for specific typing event
            const aboutContainer = document.getElementById('about-section-container');
            if (aboutContainer) {
                typingObserver.observe(aboutContainer);
            }
        }

        // Hero Text Animation
        function animateHeroText() {
            document.querySelectorAll('.hero-text span').forEach((span, i) => {
                setTimeout(() => {
                    span.style.opacity = '1';
                    span.style.transform = 'translateY(0)';
                }, 50 * i);
            });
        }

        // Contact Card Tilt
        function setupContactCardTilt() {
            const card = document.getElementById('contact-card');
            if (!card) return;
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = (e.clientX - rect.left) / rect.width - 0.5;
                const y = (e.clientY - rect.top) / rect.height - 0.5;
                card.style.transform = `perspective(1000px) rotateX(${y * -10}deg) rotateY(${x * 10}deg) scale(1.02)`;
                card.style.boxShadow = `${x * 30}px ${y * 30}px 40px rgba(59,130,246,0.4)`;
            });
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'rotateX(0) rotateY(0) scale(1)';
                card.style.boxShadow = '';
            });
        }
        
        // --- 3D Background Effect (Rotating Shapes + Stars) ---
        let scene, camera, renderer, stars, shapesGroup;
        
        function initBackgroundEffect() {
            const canvas = document.getElementById('three-js-canvas');
            if (!canvas || typeof THREE === 'undefined') return;

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.position.z = 50;

            // Lighting
            const ambientLight = new THREE.AmbientLight(0x404040, 2);
            scene.add(ambientLight);

            // 1. Add Starfield
            const starGeometry = new THREE.BufferGeometry();
            const starVertices = [];
            for (let i = 0; i < 1000; i++) {
                starVertices.push((Math.random() - 0.5) * 200, (Math.random() - 0.5) * 200, (Math.random() - 0.5) * 200);
            }
            starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
            const starMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 0.7, transparent: true, opacity: 0.6 });
            stars = new THREE.Points(starGeometry, starMaterial);
            scene.add(stars);

            // 2. Add Ambient Rotating Shapes (to mimic the old cube effect)
            shapesGroup = new THREE.Group();
            
            const shapeMaterial = new THREE.MeshPhongMaterial({ color: 0x3b82f6, transparent: true, opacity: 0.4, shininess: 100 });
            
            // Cube 1 (Large, distant)
            const cubeGeometry = new THREE.BoxGeometry(10, 10, 10);
            const cube1 = new THREE.Mesh(cubeGeometry, shapeMaterial);
            cube1.position.set(-30, 20, -50);
            shapesGroup.add(cube1);

            // Torus Knot (Medium)
            const torusGeometry = new THREE.TorusKnotGeometry(5, 1.5, 50, 6);
            const torus1 = new THREE.Mesh(torusGeometry, shapeMaterial);
            torus1.position.set(35, -15, -40);
            shapesGroup.add(torus1);

            // Sphere (Small, closer)
            const sphereGeometry = new THREE.SphereGeometry(4, 16, 16);
            const sphere1 = new THREE.Mesh(sphereGeometry, shapeMaterial);
            sphere1.position.set(-5, -25, -20);
            shapesGroup.add(sphere1);

            scene.add(shapesGroup);

            function animateBackground() {
                requestAnimationFrame(animateBackground);
                
                // Rotate stars subtly
                stars.rotation.y += 0.0005;
                
                // Rotate ambient shapes
                shapesGroup.rotation.x += 0.001;
                shapesGroup.rotation.y += 0.002;
                shapesGroup.rotation.z += 0.003;

                renderer.render(scene, camera);
            }
            animateBackground();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }
        // --- END 3D Background Effect ---


        // Init Everything
        window.onload = () => {
            initBackgroundEffect();       
            renderSkillBadges();           
            animateHeroText();
            setupContactCardTilt();
            updateProgressBar();
        };
    </script>
</body>
</html>